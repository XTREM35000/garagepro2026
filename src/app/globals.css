@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------------------------
   DESIGN SYSTEM PRO - Apple Dark / WhatsApp Light
   --------------------------- */

@layer base {
  :root {
    /* WhatsApp Light Theme Variables */
    --background: 210 17% 98%;
    --foreground: 210 11% 15%;
    --card: 0 0% 100%;
    --card-foreground: 210 11% 15%;
    --primary: 145 72% 34%;
    --primary-foreground: 0 0% 100%;
    --secondary: 210 14% 96%;
    --secondary-foreground: 210 11% 15%;
    --muted: 210 14% 94%;
    --muted-foreground: 210 8% 45%;
    --accent: 145 72% 34%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 210 14% 89%;
    --input: 210 14% 89%;
    --ring: 145 72% 34%;
    --radius: 14px;

    /* WhatsApp specific */
    --whatsapp-bg: 210 17% 95%;
    --whatsapp-surface: 0 0% 100%;
    --whatsapp-text: 210 11% 15%;
    --whatsapp-green: 145 72% 34%;
  }

  .dark {
    /* Apple Dark Theme Variables */
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;
    --card: 240 5% 11%;
    --card-foreground: 0 0% 100%;
    --primary: 210 100% 50%;
    --primary-foreground: 0 0% 100%;
    --secondary: 240 5% 15%;
    --secondary-foreground: 0 0% 100%;
    --muted: 240 5% 20%;
    --muted-foreground: 240 5% 70%;
    --accent: 210 100% 50%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 240 5% 22%;
    --input: 240 5% 22%;
    --ring: 210 100% 50%;

    /* Apple specific */
    --apple-bg: 0 0% 0%;
    --apple-surface: 240 5% 11%;
    --apple-text: 0 0% 100%;
    --apple-blue: 210 100% 50%;
  }
}

/* Base Styles */
* {
  @apply border-border;
}

body {
  @apply bg-light-background dark:bg-dark-background text-light-text dark:text-dark-text font-sans antialiased;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Smooth transitions for theme switching */
* {
  transition: background-color 0.3s ease,
    border-color 0.3s ease,
    color 0.3s ease,
    fill 0.3s ease,
    stroke 0.3s ease;
}

/* Glass morphism effects */
.glass-light {
  @apply bg-white/80 dark:bg-black/40 backdrop-blur-md border border-white/20 dark:border-white/10 shadow-light dark:shadow-dark;
}

.glass-dark {
  @apply bg-black/40 backdrop-blur-xl border border-white/10 shadow-dark-lg;
}

/* Custom utilities */
@layer components {

  /* Cards */
  .card-apple {
    @apply bg-dark-surface dark:bg-dark-surface rounded-xl border border-dark-border dark:border-dark-border shadow-dark dark:shadow-dark-lg p-6 transition-all duration-300;
  }

  .card-whatsapp {
    @apply bg-light-surface dark:bg-dark-surface rounded-xl border border-light-border dark:border-dark-border shadow-light dark:shadow-dark p-5 transition-all duration-300;
  }

  /* Buttons */
  .btn-primary {
    @apply bg-light-accent dark:bg-dark-accent text-white px-6 py-3 rounded-full font-medium shadow-accent dark:shadow-accent-dark hover:opacity-90 active:scale-95 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-light-accent/50 dark:focus:ring-dark-accent/50;
  }

  .btn-secondary {
    @apply bg-light-surface-2 dark:bg-dark-surface-2 text-light-text dark:text-dark-text px-6 py-3 rounded-full font-medium border border-light-border dark:border-dark-border hover:bg-opacity-80 active:scale-95 transition-all duration-200;
  }

  /* Inputs */
  .input-apple {
    @apply bg-dark-surface-2 dark:bg-dark-surface-2 border border-dark-border dark:border-dark-border rounded-lg px-4 py-3 text-dark-text dark:text-dark-text placeholder:text-dark-text-secondary dark:placeholder:text-dark-text-secondary focus:outline-none focus:ring-2 focus:ring-dark-accent transition-all duration-200;
  }

  .input-whatsapp {
    @apply bg-light-surface dark:bg-dark-surface-2 border border-light-border dark:border-dark-border rounded-lg px-4 py-3 text-light-text dark:text-dark-text placeholder:text-light-text-secondary dark:placeholder:text-dark-text-secondary focus:outline-none focus:ring-2 focus:ring-light-accent dark:focus:ring-dark-accent transition-all duration-200;
  }

  /* Typography */
  .h1-apple {
    @apply text-4xl md:text-5xl font-display font-bold tracking-tight;
  }

  .h2-apple {
    @apply text-3xl md:text-4xl font-display font-semibold;
  }

  .h3-apple {
    @apply text-2xl md:text-3xl font-sans font-semibold;
  }

  .h1-whatsapp {
    @apply text-3xl md:text-4xl font-sans font-bold;
  }

  /* Badges */
  .badge-success {
    @apply bg-light-success/10 dark:bg-dark-success/10 text-light-success dark:text-dark-success px-3 py-1 rounded-full text-sm font-medium border border-light-success/20 dark:border-dark-success/20;
  }

  .badge-warning {
    @apply bg-light-warning/10 dark:bg-dark-warning/10 text-light-warning dark:text-dark-warning px-3 py-1 rounded-full text-sm font-medium border border-light-warning/20 dark:border-dark-warning/20;
  }

  /* Navigation */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text dark:hover:text-dark-text hover:bg-light-surface-2 dark:hover:bg-dark-surface-2 transition-all duration-200;
  }

  .nav-item-active {
    @apply text-light-accent dark:text-dark-accent bg-light-accent/5 dark:bg-dark-accent/5 font-medium;
  }

  /* Tables */
  .table-pro {
    @apply w-full rounded-xl overflow-hidden bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border;
  }

  .table-pro th {
    @apply bg-light-surface-2 dark:bg-dark-surface-2 text-left px-6 py-4 text-light-text-secondary dark:text-dark-text-secondary font-semibold text-sm uppercase tracking-wider;
  }

  .table-pro td {
    @apply px-6 py-4 border-t border-light-border dark:border-dark-border text-light-text dark:text-dark-text;
  }

  .table-pro tr:hover {
    @apply bg-light-surface-2/50 dark:bg-dark-surface-2/50;
  }

  /* Modals */
  .modal-overlay {
    @apply fixed inset-0 bg-black/60 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50;
  }

  .modal-content {
    @apply bg-light-surface dark:bg-dark-surface rounded-2xl max-w-2xl w-full border border-light-border dark:border-dark-border shadow-light-lg dark:shadow-dark-lg animate-scale-in;
  }

  /* Loaders */
  .loader-apple {
    @apply inline-block w-6 h-6 border-2 border-light-accent/30 dark:border-dark-accent/30 border-t-light-accent dark:border-t-dark-accent rounded-full animate-spin;
  }

  /* Avatars */
  .avatar-pro {
    @apply w-12 h-12 rounded-full bg-gradient-brand dark:bg-gradient-apple flex items-center justify-center text-white font-semibold shadow-accent dark:shadow-accent-dark;
  }

  /* Status indicators */
  .status-online {
    @apply w-3 h-3 rounded-full bg-light-success dark:bg-dark-success ring-2 ring-light-surface dark:ring-dark-surface;
  }

  .status-offline {
    @apply w-3 h-3 rounded-full bg-light-border dark:bg-dark-border ring-2 ring-light-surface dark:ring-dark-surface;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-light-surface-2 dark:bg-dark-surface-2 rounded-full;
}

::-webkit-scrollbar-thumb {
  @apply bg-light-accent/30 dark:bg-dark-accent/30 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-light-accent/50 dark:bg-dark-accent/50;
}

/* Selection */
::selection {
  @apply bg-light-accent/20 dark:bg-dark-accent/20 text-light-accent dark:text-dark-accent;
}

/* Focus styles */
:focus-visible {
  @apply outline-none ring-2 ring-light-accent/50 dark:ring-dark-accent/50 ring-offset-2 ring-offset-light-surface dark:ring-offset-dark-surface;
}

/* Smooth animations */
.smooth-transition {
  @apply transition-all duration-300 ease-apple;
}

/* Grid patterns */
.bg-grid-pattern {
  background-size: 20px 20px;
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
}

.dark .bg-grid-pattern {
  background-image: linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
}

/* Gradient text */
.text-gradient-brand {
  @apply bg-gradient-brand bg-clip-text text-transparent;
}

.text-gradient-apple {
  @apply bg-gradient-apple bg-clip-text text-transparent;
}

/* Utility definitions for custom token-based classes used with @apply */
@layer utilities {

  /* Borders */
  .border-border,
  .border-light-border,
  .border-dark-border {
    --tw-border-opacity: 1;
    border-color: rgb(var(--border) / var(--tw-border-opacity));
  }

  /* Backgrounds & surfaces */
  .bg-light-background {
    background-color: rgb(var(--background) / 1);
  }

  .bg-dark-background {
    background-color: rgb(var(--background) / 1);
  }

  .bg-light-surface {
    background-color: rgb(var(--card) / 1);
  }

  .bg-dark-surface {
    background-color: rgb(var(--card) / 1);
  }

  .bg-light-surface-2 {
    background-color: rgb(var(--secondary) / 1);
  }

  .bg-dark-surface-2 {
    background-color: rgb(var(--secondary) / 1);
  }

  /* Text colors */
  .text-light-text {
    color: rgb(var(--foreground) / 1);
  }

  .text-dark-text {
    color: rgb(var(--foreground) / 1);
  }

  .text-light-text-secondary {
    color: rgb(var(--muted-foreground) / 1);
  }

  .text-dark-text-secondary {
    color: rgb(var(--muted-foreground) / 1);
  }

  /* Accent colors */
  .bg-light-accent {
    background-color: rgb(var(--accent) / 1);
  }

  .bg-dark-accent {
    background-color: rgb(var(--accent) / 1);
  }

  .text-light-accent {
    color: rgb(var(--accent-foreground) / 1);
  }

  .text-dark-accent {
    color: rgb(var(--accent-foreground) / 1);
  }

  /* Shadows (simple mapping) */
  .shadow-light {
    box-shadow: 0 10px 30px rgba(8, 10, 20, 0.06);
  }

  .shadow-light-lg {
    box-shadow: 0 14px 48px rgba(8, 10, 20, 0.06);
  }

  .shadow-dark {
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
  }

  .shadow-dark-lg {
    box-shadow: 0 14px 48px rgba(0, 0, 0, 0.6);
  }

  /* Success / warning colors */
  .bg-light-success {
    background-color: rgb(var(--destructive) / 0.12);
  }

  .bg-dark-success {
    background-color: rgb(var(--destructive) / 0.12);
  }

  .bg-light-warning {
    background-color: rgba(250, 200, 60, 0.12);
  }

  .bg-dark-warning {
    background-color: rgba(250, 200, 60, 0.12);
  }

  /* Rings & focus */
  .ring-light-accent\/50 {
    box-shadow: 0 0 0 4px rgba(37, 211, 102, 0.12);
  }
}